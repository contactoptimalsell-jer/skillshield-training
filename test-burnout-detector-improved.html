<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Burnout Detector AmÃ©liorÃ© Aegis</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            background: rgba(30, 41, 59, 0.8);
            border-radius: 16px;
            padding: 30px;
            margin: 20px 0;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .test-section {
            background: rgba(15, 23, 42, 0.6);
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid #ef4444;
        }
        .test-step {
            background: rgba(239, 68, 68, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border: 1px solid rgba(239, 68, 68, 0.2);
        }
        .code-block {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 6px;
            padding: 15px;
            margin: 10px 0;
            font-family: 'Monaco', 'Menlo', monospace;
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow-x: auto;
        }
        .highlight {
            background: rgba(239, 68, 68, 0.2);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 500;
        }
        .success { color: #10b981; }
        .warning { color: #f59e0b; }
        .error { color: #ef4444; }
        .info { color: #3b82f6; }
        .emoji { font-size: 1.2em; }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .feature-card {
            background: rgba(30, 41, 59, 0.6);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }
        .feature-card h3 {
            color: #ef4444;
            margin-top: 0;
        }
        ul, ol {
            line-height: 1.6;
        }
        li {
            margin: 8px 0;
        }
        .btn {
            display: inline-block;
            background: #ef4444;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            margin: 5px;
            transition: background 0.3s;
        }
        .btn:hover {
            background: #dc2626;
        }
        .signal-card {
            border-left: 4px solid;
            padding-left: 15px;
            margin: 15px 0;
        }
        .red { border-color: #ef4444; }
        .orange { border-color: #f59e0b; }
        .yellow { border-color: #eab308; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>âš ï¸ Test - Burnout Detector AmÃ©liorÃ© Aegis</h1>
            <p>Guide de test pour le systÃ¨me de dÃ©tection et prÃ©vention du burnout</p>
        </div>

        <div class="test-section">
            <h2>ğŸ¯ Objectif du Test</h2>
            <p>VÃ©rifier que le <span class="highlight">systÃ¨me de dÃ©tection et prÃ©vention du burnout</span> fonctionne correctement avec :</p>
            <ul>
                <li>âš ï¸ <strong>DÃ©tection automatique</strong> du burnout dans les messages</li>
                <li>ğŸ“… <strong>Check-in automatique</strong> 3 jours aprÃ¨s dÃ©tection</li>
                <li>ğŸ” <strong>Alertes prÃ©ventives</strong> basÃ©es sur les signaux faibles</li>
                <li>ğŸ“Š <strong>Analyse des patterns</strong> de stress et fatigue</li>
                <li>ğŸ’¡ <strong>Conseils personnalisÃ©s</strong> selon la situation</li>
            </ul>
        </div>

        <div class="test-section">
            <h2>ğŸš€ Ã‰tapes de Test</h2>
            
            <div class="test-step">
                <h3>1. AccÃ©der au Dashboard</h3>
                <p>Ouvrez le dashboard : <a href="http://localhost:5173/dashboard" class="btn" target="_blank">Dashboard</a></p>
                <p>Le chatbot Aegis devrait Ãªtre visible en bas Ã  droite.</p>
            </div>

            <div class="test-step">
                <h3>2. Tester la DÃ©tection de Burnout</h3>
                <p><strong>Messages dÃ©clencheurs de burnout :</strong></p>
                <div class="code-block">
â€¢ "Je suis fatiguÃ©, j'ai plus de force"
â€¢ "Je suis Ã©puisÃ©, je veux abandonner"
â€¢ "Je suis saturÃ©, c'est trop"
â€¢ "Je me sens dÃ©bordÃ© et perdu"
â€¢ "J'ai plus envie, Ã§a sert Ã  rien"
                </div>
                
                <p><strong>VÃ©rifications :</strong></p>
                <ul>
                    <li>âœ… L'avatar Aegis passe en mode <span class="highlight">burnout</span> (glow rouge foncÃ©)</li>
                    <li>âœ… Le message de bienvenue devient <span class="highlight">empathique</span></li>
                    <li>âœ… La dÃ©tection est sauvegardÃ©e dans <code>lastBurnoutDetection</code></li>
                    <li>âœ… Le state <code>burnoutDetectedAt</code> est mis Ã  jour</li>
                </ul>
            </div>

            <div class="test-step">
                <h3>3. Tester les Signaux PrÃ©ventifs</h3>
                <p><strong>Simuler des signaux faibles :</strong></p>
                
                <div class="signal-card red">
                    <h4>ğŸŒ™ ActivitÃ© nocturne excessive</h4>
                    <ul>
                        <li>Se connecter aprÃ¨s 23h ou avant 5h</li>
                        <li>Plus de 3 messages nocturnes en 7 jours</li>
                        <li>DÃ©clenche l'alerte prÃ©ventive</li>
                    </ul>
                </div>

                <div class="signal-card orange">
                    <h4>ğŸ˜° FrÃ©quence de stress Ã©levÃ©e</h4>
                    <ul>
                        <li>Plus de 5 messages contenant des mots de stress</li>
                        <li>Mots : "trop", "fatiguÃ©", "dÃ©bordÃ©", "Ã©puisÃ©", "saturÃ©"</li>
                        <li>Sur une pÃ©riode de 7 jours</li>
                    </ul>
                </div>

                <div class="signal-card yellow">
                    <h4>ğŸ˜” Patterns nÃ©gatifs</h4>
                    <ul>
                        <li>Plus de 3 messages de dÃ©motivation</li>
                        <li>Mots : "Ã§a sert Ã  rien", "dÃ©motivÃ©", "dÃ©couragÃ©", "perdu"</li>
                        <li>Indicateur de dÃ©pression lÃ©gÃ¨re</li>
                    </ul>
                </div>
            </div>

            <div class="test-step">
                <h3>4. VÃ©rifier les Alertes PrÃ©ventives</h3>
                <p>AprÃ¨s avoir simulÃ© des signaux faibles, vous devriez voir :</p>
                
                <div class="code-block">
âš ï¸ ALERTE PRÃ‰VENTIVE

Alex, je remarque des signaux :

â€¢ Tu te connectes souvent aprÃ¨s 23h
â€¢ Tes messages contiennent beaucoup de stress

Tu n'es pas encore en burnout, mais tu t'en approches.

Conseil prÃ©ventif : Prends 1 journÃ©e OFF ce week-end. Non nÃ©gociable.

Actions immÃ©diates :
â€¢ ArrÃªte le travail aprÃ¨s 18h aujourd'hui
â€¢ Ã‰vite les Ã©crans 1h avant de dormir
â€¢ Planifie quelque chose de fun ce week-end

â€” Aegis ğŸ›¡ï¸
                </div>
            </div>

            <div class="test-step">
                <h3>5. Tester le Check-in Automatique</h3>
                <p><strong>Simulation du check-in 3 jours aprÃ¨s :</strong></p>
                <ul>
                    <li>Modifiez <code>userContext.lastBurnoutDetection</code> Ã  <code>Date.now() - (3 * 24 * 60 * 60 * 1000)</code></li>
                    <li>Rechargez le chatbot</li>
                    <li>Le check-in devrait apparaÃ®tre automatiquement</li>
                </ul>
                
                <div class="code-block">
ğŸ“… 3 JOURS PLUS TARD

Hey Alex, comment tu te sens depuis notre conversation sur le burnout ?

J'ai vu que tu as respectÃ© la rÃ¨gle des 2h/jour sur Docker & Kubernetes. ğŸ‘ C'est dÃ©jÃ  un Ã©norme progrÃ¨s.

Questions check-in :
- Tu dors mieux ?
- Tu retiens mieux ce que tu apprends ?
- Tu te sens moins submergÃ© ?

Si tu veux, on peut faire un point rapide sur ton Ã©nergie et ajuster le plan si nÃ©cessaire.

â€” Aegis ğŸ›¡ï¸
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ” Algorithmes de DÃ©tection</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>ğŸŒ™ DÃ©tection Nocturne</h3>
                    <ul>
                        <li><strong>CritÃ¨re :</strong> Messages entre 23h-5h</li>
                        <li><strong>Seuil :</strong> > 3 messages en 7 jours</li>
                        <li><strong>Code :</strong> <code>hour >= 23 || hour <= 5</code></li>
                    </ul>
                </div>

                <div class="feature-card">
                    <h3>ğŸ˜° DÃ©tection Stress</h3>
                    <ul>
                        <li><strong>Mots-clÃ©s :</strong> trop, fatiguÃ©, dÃ©bordÃ©, Ã©puisÃ©</li>
                        <li><strong>Seuil :</strong> > 5 occurrences en 7 jours</li>
                        <li><strong>Regex :</strong> <code>/trop|fatiguÃ©|dÃ©bordÃ©|Ã©puisÃ©|saturÃ©/</code></li>
                    </ul>
                </div>

                <div class="feature-card">
                    <h3>ğŸ˜” DÃ©tection NÃ©gative</h3>
                    <ul>
                        <li><strong>Mots-clÃ©s :</strong> Ã§a sert Ã  rien, dÃ©motivÃ©, perdu</li>
                        <li><strong>Seuil :</strong> > 3 occurrences en 7 jours</li>
                        <li><strong>Regex :</strong> <code>/Ã§a sert Ã  rien|dÃ©motivÃ©|dÃ©couragÃ©/</code></li>
                    </ul>
                </div>

                <div class="feature-card">
                    <h3>ğŸ“Š Score de Risque</h3>
                    <ul>
                        <li><strong>Calcul :</strong> Somme des signaux dÃ©tectÃ©s</li>
                        <li><strong>Composants :</strong> Nocturne + Stress + NÃ©gatif</li>
                        <li><strong>Action :</strong> Alerte si score > seuil</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ“… SystÃ¨me de Check-in</h2>
            
            <div class="test-step">
                <h3>DÃ©clenchement Automatique</h3>
                <div class="code-block">
useEffect(() => {
  if (!userContext.lastBurnoutDetection) return;
  
  const daysSinceBurnout = (Date.now() - userContext.lastBurnoutDetection) / (1000 * 60 * 60 * 24);
  
  if (daysSinceBurnout >= 3 && daysSinceBurnout < 4 && 
      !messages.some(m => m.type === 'burnout_checkin')) {
    // Envoyer le message de check-in
  }
}, [userContext.lastBurnoutDetection, messages]);
                </div>
            </div>

            <div class="test-step">
                <h3>Contenu du Check-in</h3>
                <ul>
                    <li>âœ… <strong>Personnalisation</strong> : PrÃ©nom et contexte</li>
                    <li>âœ… <strong>Progression</strong> : VÃ©rification des formations</li>
                    <li>âœ… <strong>Questions</strong> : Sommeil, apprentissage, stress</li>
                    <li>âœ… <strong>Support</strong> : Proposition d'ajustement</li>
                </ul>
            </div>
        </div>

        <div class="test-section">
            <h2>âš ï¸ Alertes PrÃ©ventives</h2>
            
            <div class="test-step">
                <h3>Conditions de DÃ©clenchement</h3>
                <div class="code-block">
const signals = detectBurnoutSignals(messages);

if ((signals.lateNightActivity || 
     signals.highStressFrequency || 
     signals.negativePatterns) && 
    !messages.some(m => m.type === 'burnout_prevention')) {
  // Envoyer l'alerte prÃ©ventive
}
                </div>
            </div>

            <div class="test-step">
                <h3>Contenu des Alertes</h3>
                <ul>
                    <li>âš ï¸ <strong>Signalement</strong> : Signaux dÃ©tectÃ©s spÃ©cifiquement</li>
                    <li>ğŸ’¡ <strong>Conseil</strong> : JournÃ©e OFF non nÃ©gociable</li>
                    <li>ğŸ“‹ <strong>Actions</strong> : 3 actions immÃ©diates concrÃ¨tes</li>
                    <li>ğŸ›¡ï¸ <strong>TonalitÃ©</strong> : Bienveillante mais ferme</li>
                </ul>
            </div>
        </div>

        <div class="test-section">
            <h2>âœ… Checklist de Validation</h2>
            <ul>
                <li>â˜ La dÃ©tection de burnout fonctionne avec les mots-clÃ©s</li>
                <li>â˜ L'avatar change visuellement lors du burnout</li>
                <li>â˜ La dÃ©tection est sauvegardÃ©e dans le contexte</li>
                <li>â˜ Les signaux nocturnes sont dÃ©tectÃ©s</li>
                <li>â˜ Les signaux de stress sont identifiÃ©s</li>
                <li>â˜ Les patterns nÃ©gatifs sont repÃ©rÃ©s</li>
                <li>â˜ L'alerte prÃ©ventive se dÃ©clenche automatiquement</li>
                <li>â˜ Le check-in 3 jours aprÃ¨s fonctionne</li>
                <li>â˜ Les messages ne se rÃ©pÃ¨tent pas</li>
                <li>â˜ Le contenu est personnalisÃ© selon le contexte</li>
                <li>â˜ Les conseils sont actionables</li>
                <li>â˜ La tonalitÃ© est appropriÃ©e (empathique/prÃ©ventive)</li>
            </ul>
        </div>

        <div class="test-section">
            <h2>ğŸ› DÃ©pannage</h2>
            <div class="test-step">
                <h3>Le burnout n'est pas dÃ©tectÃ©</h3>
                <ul>
                    <li>VÃ©rifiez les mots-clÃ©s dans <code>detectEmotion</code></li>
                    <li>Assurez-vous que le regex correspond</li>
                    <li>Testez avec des messages plus explicites</li>
                </ul>
            </div>

            <div class="test-step">
                <h3>Les alertes prÃ©ventives ne s'affichent pas</h3>
                <ul>
                    <li>VÃ©rifiez que vous avez assez de messages (10+)</li>
                    <li>Assurez-vous que les signaux sont suffisants</li>
                    <li>VÃ©rifiez la logique dans <code>detectBurnoutSignals</code></li>
                </ul>
            </div>

            <div class="test-step">
                <h3>Le check-in ne se dÃ©clenche pas</h3>
                <ul>
                    <li>VÃ©rifiez que <code>lastBurnoutDetection</code> est dÃ©fini</li>
                    <li>Assurez-vous que 3 jours se sont Ã©coulÃ©s</li>
                    <li>VÃ©rifiez qu'aucun message de type 'burnout_checkin' n'existe</li>
                </ul>
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ‰ Conclusion</h2>
            <p>Le <strong>burnout detector amÃ©liorÃ©</strong> est un systÃ¨me avancÃ© qui :</p>
            <ul>
                <li>âš ï¸ <strong>DÃ©tecte automatiquement</strong> les signes de burnout</li>
                <li>ğŸ“… <strong>Assure un suivi</strong> avec check-in automatique</li>
                <li>ğŸ” <strong>PrÃ©vient proactivement</strong> les situations critiques</li>
                <li>ğŸ“Š <strong>Analyse les patterns</strong> de stress et fatigue</li>
                <li>ğŸ’¡ <strong>Fournit des conseils</strong> personnalisÃ©s et actionables</li>
                <li>ğŸ›¡ï¸ <strong>Maintient un ton</strong> empathique et bienveillant</li>
            </ul>
            <p class="success">âœ… SystÃ¨me opÃ©rationnel pour la protection du bien-Ãªtre des utilisateurs !</p>
        </div>
    </div>
</body>
</html>
